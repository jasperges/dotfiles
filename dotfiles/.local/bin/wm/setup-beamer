#!/bin/bash

external_monitor=$(xrandr --listmonitors | awk '/(DP|HDMI)-[0-9]+/ {printf $4}')
internal_monitor=$(xrandr --listmonitors | awk '/LVDS-[0-9]+/ {printf $4}')

if [[ -z $external_monitor ]]; then
    notify-send --urgency=critical "Beamer setup" "No external_monitor found. Is the beamer connected?"
    exit 1
fi

xrandr --output $internal_monitor --auto --primary
xrandr --output $external_monitor --mode 1280x720 --left-of $internal_monitor

pkill xautolock
feh --bg-scale $HOME/pictures/backgrounds/black.png --no-fehbg
setxinputs 2>/dev/null
play-silence &
