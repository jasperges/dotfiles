#!/bin/bash

current=$(i3-msg -t get_workspaces | jq '.[] | select(.focused==true).name' | cut -d "\"" -f 2)
currentnumber=$(echo $current | cut -d ":" -f 1)
inputname=$(dmenu -fn Monospace-12 -p "Please enter the new name of the workspace" -lines 0)
if [[ -n $currentnumber ]]; then
    if [[ -n $inputname ]]; then
        newname="$currentnumber: $inputname"
    else
        newname="$currentnumber"
    fi
else
    if [[ -n $inputname ]]; then
        newname="$inputname"
    else
        exit 0
    fi
fi

i3 "rename workspace to \"$newname\""
