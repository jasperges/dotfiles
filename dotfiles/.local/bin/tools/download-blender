#!/bin/bash

version=$1

if [[ -z $version ]]; then
    echo "You should pass the version you want to dowload."
    exit
fi

major=$(echo $version | cut -d "." -f 1)
minor=$(echo $version | cut -d "." -f 2)
patch=$(echo $version | cut -d "." -f 3)

if [[ ! -f $HOME/install/blender/blender-$major.$minor.$patch-linux64.tar.xz ]]; then
    wget --directory-prefix=$HOME/install/blender \
        https://download.blender.org/release/Blender$major.$minor/blender-$major.$minor.$patch-linux64.tar.xz \
        || exit
fi

tar -xvf $HOME/install/blender/blender-$major.$minor.$patch-linux64.tar.xz -C $HOME || exit
mv $HOME/blender-$major.$minor.$patch-linux64 $HOME/blender-$major.$minor.$patch || exit

echo "Downloaded and extracted Blender in $HOME"
