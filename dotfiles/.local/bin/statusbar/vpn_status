#!/bin/sh

# Keep it simple, only show first connection
vpn=$(nmcli -g TYPE,STATE,NAME c show --active \
    | awk -F: '/vpn:activated/ {print $3}' | head -n 1)
[ -n "$vpn" ] && printf "  $vpn" || printf "  No VPN"

# Original line, keep for reference
# printf "VPN: " && (pgrep -a openvpn$ | head -n 1 | awk '{print $4 }' | cut -d '.' -f 2 && echo down) | head -n 1
